
# Todo

- (Potential) bugs
    - Replace usage of DIRECTORY_SEPARATOR with normalized "/"
    - Deadlock prevention
        - Ensure same locking order of vaults
        - Same lockAdapter across multiple vaults?
    - Nested archives
- Features
    - Use merkle tree for integrity validation
    - Use full available mtime/ctime resolution
        - Keep comparison across systems with different resolutions in mind
    - Add "force-local" parameter to synchronization to be able to "keep" restored state
        - Automatically call after restore (can optionally be prevented)
    - More logging verbosity
        - Ask for confirmation on sync/restore commands
            - Mind --no-interaction option
        - (Injectable) EventManager (PSR-14)
    - Split large files in blob chunks
        - CSV UUIDs in index
        - Configuration per vault
    - Synchronization without archival
        - Delete old blobs on sync
    - Phar compilation
        - Installer ala getcomposer.org
    - WebDAV endpoint
    - GUI
        - WebApp?
    - Inotify watcher
    - Add version string during phar build
    - Check php (module) dependencies on runtime and offer installation help
    - Synchronization dry-run
    - Sanity-Check
- Encryption
    - https://cryptomator.org/architecture/
    - Encryption/decryption as stream filter
        - https://stackoverflow.com/questions/27103269/what-is-a-bucket-brigade
        - https://github.com/bantuXorg/php-stream-filter-hash/blob/master/src/HashFilter.php
        - http://www.codediesel.com/php/creating-custom-stream-filters/
- Performance
    - Detect file moving using hash/mtime to uniquely identify file content
        - Copy/Move locally to prevent download
        - Reuse blobId to prevent update
    - Selective compression
        - Most media files are already compressed
- Code quality
    - Test (recursive) symlink support
    - Offer plugin/module integration
    - Versionable (across storeman versions) Local/Remote index format
    - Final classes
    - Tests for phar compiler
